/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.5/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
apply plugin: 'java-library'

repositories {
        
     maven { url "http://repo.maven.apache.org/maven2" }
}

dependencies {
    compile 'ch.qos.logback:logback-classic:1.1.1'

    //Groovy information to compile groovy code
    compile 'org.codehaus.groovy:groovy-all:2.2.0'

    //Needed to help with injections for TestNG listeners
    compile 'com.google.inject:guice:3.0'

 	compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version:'3.4.0'
    compile group: 'org.seleniumhq.selenium', name: 'selenium-server', version:'3.4.0'
    compile group: 'info.cukes', name: 'cucumber-java', version:'1.2.4'
    compile group: 'info.cukes', name: 'cucumber-testng', version:'1.2.4'
    compile group: 'info.cukes', name: 'cucumber-core', version:'1.2.4'
    compile group: 'org.hamcrest', name: 'hamcrest-all', version:'1.3'
    compile group: 'info.cukes', name: 'gherkin', version:'2.12.2'
    compile group: 'com.google.guava', name: 'guava', version:'18.0'
    compile group: 'net.masterthought', name: 'cucumber-reporting', version:'3.8.0'
    compile group: 'com.offbytwo.jenkins', name: 'jenkins-client', version:'0.3.7'
    compile group: 'com.github.mkolisnyk', name: 'cucumber-runner', version:'1.0.10'
    compile group: 'xml-apis', name: 'xml-apis', version:'xerces-2.7.1'
    compile group: 'xerces', name: 'xercesImpl', version:'xerces-2.11.0-22'
    
    //This way is the long cut
    //This is the TestNG test execution library that is better than JUnit
    //Adding a + for a version number means get the latest number for that version.  So in this case get the latest 6.8.whatever deployment
    testCompile group: 'org.testng', name: 'testng', version: '6.8.+'

    //An assertion library that is better than JUnit defaults
    testCompile 'org.easytesting:fest-assert-core:2.0M10'

    //Better reporting for testng.  It outputs a nice html report
    testCompile 'org.uncommons:reportng:1.1.4'
    

}
task hello << {
    println 'Hello World!'
}
 
 test {
    useTestNG() {

    //Here is where you can add listeners for testng and add the reporting for reportng
        listeners << 'org.uncommons.reportng.HTMLReporter'
        listeners << 'org.uncommons.reportng.JUnitXMLReporter'

        //The variables are stored in the gradle.properties file.  excludedGroups has a default and can be passed in.  includedGroups has default of empty and can be passed in.
        // If includedGroups is empty it will execute all tests that aren't in the excluded groups
      
       suites './src/test/java/com/automation/AllTest.xml'
       
    }

    //Disable the default groovy html reports since ReportNG is being used
    reports.html.enabled = true
    
    

    //Modify the test logging
    testLogging {
        showStandardStreams = true
        exceptionFormat "full"
    }
}

    


